package jsengine.parser

import org.junit.Test

import org.junit.Assert.assertThat
import org.junit.matchers.JUnitMatchers.hasItems
import org.hamcrest.CoreMatchers.is
import org.junit.Assert.fail
import ParserTestSupport.getASTOrFail
import ParserTestSupport.verifyFunction
import ParserTestSupport.verifyLiteralObject
import ParserTestSupport.verifyArrayLiteral
import ParserTestSupport.verifyExpression
import ParserTestSupport.verifyParsing
import ParserTestSupport.verifySource
import jsengine.parser.JSParser
import jsengine.ast._
import scala.io.Source

class TestRewriter {

  
  
     def testFile(filename: String) {
    	val result = JSParser.parse(JSParser.source,Source.fromURL(this.getClass().getClassLoader().getResource(filename)).reader)
    	println(result)
    	result match {
    	  case JSParser.Success(ast,_) => println(JSInitialRewriter.rewriteSource(ast))
    	  case JSParser.NoSuccess(message,src) => println("failed")	
    	}

    }
/*

     @Test def testPart1 {
JSSource(List(
	Assign(
		Lookup(JSIdentifier(jQuery),JSString(fn)),
		Assign(
			Lookup(JSIdentifier(jQuery),JSString(prototype)),
			JSLiteralObject(List(
				(JSString(constructor),JSIdentifier(jQuery)), 
				(JSString(init),JSString(moved to part 2)), 
				(JSString(selector),JSString()), 
				(JSString(jquery),JSString(1.6.2)), 
				(JSString(length),JSNumber(0)), 
				(JSString(size),
					JSFunction(None,List(),List(
						ReturnStatement(Some(
							Lookup(JSIdentifier(this),JSString(length))))))), 
				(JSString(toArray),
					JSFunction(None,List(),List(
						ReturnStatement(Some(
							Call(Lookup(JSIdentifier(slice),JSString(call)),List(JSIdentifier(this), JSNumber(0)))))))), 
				(JSString(get),
				    JSFunction(None,List(JSIdentifier(num)),List(
				        ReturnStatement(Some(
				            ConditionalExpression(
				                OperatorCall(Operator(==),List(JSIdentifier(num), JSIdentifier(null))),
				                Call(Lookup(JSIdentifier(this),JSString(toArray)),List()),
				                ConditionalExpression(
				                    OperatorCall(Operator(<),List(JSIdentifier(num), JSNumber(0))),
				                    Lookup(
				                        JSIdentifier(this),
				                        OperatorCall(
				                            Operator(+),List(
				                            Lookup(JSIdentifier(this),JSString(length)), 
				                            JSIdentifier(num)))),
				                        Lookup(JSIdentifier(this),JSIdentifier(num))))))))), 
				(JSString(pushStack),
				    JSFunction(None,List(JSIdentifier(elems), JSIdentifier(name), JSIdentifier(selector)),List(
				        Declare(JSIdentifier(ret)), 
				        Assign(
				            JSIdentifier(ret),
				            Call(
				                Lookup(JSIdentifier(this),JSString(constructor)),
				                List())), 
				        IfStatement(
				            Call(Lookup(JSIdentifier(jQuery),JSString(isArray)),List(JSIdentifier(elems))),
				            JSBlock(List(
				                JSBlock(List(
				                    Call(
				                        Lookup(JSIdentifier(push),JSString(apply)),
				                        List(JSIdentifier(ret), JSIdentifier(elems))))))),
				            Some(JSBlock(List(
				                JSBlock(List(
				                    Call(
				                        Lookup(JSIdentifier(jQuery),JSString(merge)),
				                        List(JSIdentifier(ret), JSIdentifier(elems))))))))), 
				        Assign(Lookup(JSIdentifier(ret),JSString(prevObject)),JSIdentifier(this)), 
				        Assign(Lookup(JSIdentifier(ret),JSString(context)),Lookup(JSIdentifier(this),JSString(context))), 
				        IfStatement(
				            OperatorCall(Operator(===),List(JSIdentifier(name), JSString(find))),
				            JSBlock(List(
				                JSBlock(List(
				                    Assign(
				                        Lookup(JSIdentifier(ret),JSString(selector)),
				                        OperatorCall(
				                            Operator(+),List(
				                            OperatorCall(
				                                Operator(+),List(
				                                    Lookup(JSIdentifier(this),JSString(selector)), 
				                                    ConditionalExpression(
				                                        Lookup(JSIdentifier(this),JSString(selector)),
				                                        JSString( ),JSString()))), 
				                            JSIdentifier(selector)))))))),
				            Some(JSBlock(List(
				                IfStatement(
				                    JSIdentifier(name),
				                    JSBlock(List(JSBlock(List(
				                        Assign(
				                            Lookup(JSIdentifier(ret),JSString(selector)),
				                            OperatorCall(
				                                Operator(+),List(
				                                    OperatorCall(
				                                        Operator(+),List(
				                                            OperatorCall(
				                                                Operator(+),List(
				                                                    OperatorCall(
				                                                        Operator(+),List(
				                                                            OperatorCall(
				                                                                Operator(+),List(
				                                                                    Lookup(JSIdentifier(this),JSString(selector)), 
				                                                                    JSString(.))), 
				                                                            JSIdentifier(name))), 
				                                                    JSString(())), JSIdentifier(selector))), 
				                                        JSString())))))))),
				                    None))))), 
				        ReturnStatement(Some(JSIdentifier(ret)))))), 
				(JSString(each),
				    JSFunction(None,List(JSIdentifier(callback), JSIdentifier(args)),List(
				        ReturnStatement(Some(
				            Call(
				                Lookup(JSIdentifier(jQuery),JSString(each)),
				                List(JSIdentifier(this), JSIdentifier(callback), JSIdentifier(args)))))))), 
				(JSString(ready),
				    JSFunction(None,List(JSIdentifier(fn)),List(
				    		Call(
				    		    Lookup(JSIdentifier(jQuery),JSString(bindReady)),
				    		    List()), 
				    		Call(
				    		    Lookup(JSIdentifier(readyList),JSString(done)),
				    		    List(JSIdentifier(fn))), 
				    		ReturnStatement(Some(JSIdentifier(this)))))), 
				(JSString(eq),
				    JSFunction(None,List(JSIdentifier(i)),List(
				        ReturnStatement(Some(
				            ConditionalExpression(
				                OperatorCall(
				                    Operator(===),List(
				                    JSIdentifier(i), 
				                    OperatorCall(
				                        Operator(-),List(
				                            JSNumber(1))))),
				               Call(
				                   Lookup(JSIdentifier(this),JSString(slice)),
				                   List(JSIdentifier(i))),
				               Call(
				                   Lookup(JSIdentifier(this),JSString(slice)), List(
				                   JSIdentifier(i), 
				                   OperatorCall(
				                       Operator(+),List(
				                       OperatorCall(
				                           Operator(+),List(
				                           JSIdentifier(i))), 
				                           JSNumber(1))))))))))), 
				(JSString(first),
				    JSFunction(None,List(),List(
				        ReturnStatement(Some(
				            Call(
				                Lookup(JSIdentifier(this),JSString(eq)),List(
				                JSNumber(0)))))))), 
			    (JSString(last),
			        JSFunction(None,List(),List(
			            ReturnStatement(Some(
			                Call(
			                    Lookup(JSIdentifier(this),JSString(eq)), List(
			                    OperatorCall(Operator(-),List(JSNumber(1)))))))))), 
			    (JSString(slice),
			        JSFunction(None,List(),List(
			            ReturnStatement(Some(Call(Lookup(JSIdentifier(this),JSString(pushStack)),List(Call(Lookup(JSIdentifier(slice),JSString(apply)),List(JSIdentifier(this), JSIdentifier(arguments))), JSString(slice), Call(Lookup(Call(Lookup(JSIdentifier(slice),JSString(call)),List(JSIdentifier(arguments))),JSString(join)),List(JSString(,)))))))))), (JSString(map),JSFunction(None,List(JSIdentifier(callback)),List(ReturnStatement(Some(Call(Lookup(JSIdentifier(this),JSString(pushStack)),List(Call(Lookup(JSIdentifier(jQuery),JSString(map)),List(JSIdentifier(this), JSFunction(None,List(JSIdentifier(elem), JSIdentifier(i)),List(ReturnStatement(Some(Call(Lookup(JSIdentifier(callback),JSString(call)),List(JSIdentifier(elem), JSIdentifier(i), JSIdentifier(elem)))))))))))))))), (JSString(end),JSFunction(None,List(),List(ReturnStatement(Some(OperatorCall(Operator(||),List(Lookup(JSIdentifier(this),JSString(prevObject)), Call(Lookup(JSIdentifier(this),JSString(constructor)),List(JSIdentifier(null)))))))))), (JSString(push),JSIdentifier(push)), (JSString(sort),Lookup(JSArrayLiteral(List()),JSString(sort))), (JSString(splice),Lookup(JSArrayLiteral(List()),JSString(splice)))))))))




[53.2] parsed: JSSource(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(init)), ApplyLookup(JSString(prototype)))),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(fn))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(extend)))),AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(extend)))),JSFunction(None,List(),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(options),None), VariableDeclaration(JSIdentifier(name),None), VariableDeclaration(JSIdentifier(src),None), VariableDeclaration(JSIdentifier(copy),None), VariableDeclaration(JSIdentifier(copyIsArray),None), VariableDeclaration(JSIdentifier(clone),None), VariableDeclaration(JSIdentifier(target),Some(BinaryExpression(CallExpression(0,JSIdentifier(arguments),List(ApplyLookup(JSNumber(0)))),List(BinaryExtension(Operator(||),JSLiteralObject(List())))))), VariableDeclaration(JSIdentifier(i),Some(JSNumber(1))), VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(arguments),List(ApplyLookup(JSString(length)))))), VariableDeclaration(JSIdentifier(deep),Some(JSIdentifier(false))))), IfStatement(BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(target)),List(BinaryExtension(Operator(===),JSString(boolean)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(deep),JSIdentifier(target)), AssignmentExpression(Operator(=),JSIdentifier(target),BinaryExpression(CallExpression(0,JSIdentifier(arguments),List(ApplyLookup(JSNumber(1)))),List(BinaryExtension(Operator(||),JSLiteralObject(List()))))), AssignmentExpression(Operator(=),JSIdentifier(i),JSNumber(2)))),None), IfStatement(BinaryExpression(BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(target)),List(BinaryExtension(Operator(!==),JSString(object)))),List(BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isFunction)), ApplyArguments(List(JSIdentifier(target))))))))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(target),JSLiteralObject(List())))),None), IfStatement(BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(===),JSIdentifier(i)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(target),JSIdentifier(this)), UnaryExpression(List(Operator(--)),JSIdentifier(i)))),None), ForStatement(None,ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),Some(PostfixExpression(JSIdentifier(i),Operator(++)))),JSBlock(List(IfStatement(BinaryExpression(AssignmentExpression(Operator(=),JSIdentifier(options),CallExpression(0,JSIdentifier(arguments),List(ApplyLookup(JSIdentifier(i))))),List(BinaryExtension(Operator(!=),JSIdentifier(null)))),JSBlock(List(ForStatement(Some(ForInit(JSIdentifier(name))),ForInUpdate(JSIdentifier(options)),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(src),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name))))), AssignmentExpression(Operator(=),JSIdentifier(copy),CallExpression(0,JSIdentifier(options),List(ApplyLookup(JSIdentifier(name))))), IfStatement(BinaryExpression(JSIdentifier(target),List(BinaryExtension(Operator(===),JSIdentifier(copy)))),JSBlock(List(ContinueStatement(None))),None), IfStatement(BinaryExpression(JSIdentifier(deep),List(BinaryExtension(Operator(&&),JSIdentifier(copy)), BinaryExtension(Operator(&&),BinaryExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isPlainObject)), ApplyArguments(List(JSIdentifier(copy))))),List(BinaryExtension(Operator(||),AssignmentExpression(Operator(=),JSIdentifier(copyIsArray),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isArray)), ApplyArguments(List(JSIdentifier(copy)))))))))))),JSBlock(List(IfStatement(JSIdentifier(copyIsArray),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(copyIsArray),JSIdentifier(false)), AssignmentExpression(Operator(=),JSIdentifier(clone),ConditionalExpression(BinaryExpression(JSIdentifier(src),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isArray)), ApplyArguments(List(JSIdentifier(src)))))))),JSIdentifier(src),JSArrayLiteral(List()))))),Some(JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(clone),ConditionalExpression(BinaryExpression(JSIdentifier(src),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isPlainObject)), ApplyArguments(List(JSIdentifier(src)))))))),JSIdentifier(src),JSLiteralObject(List()))))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name)))),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(extend)), ApplyArguments(List(JSIdentifier(deep), JSIdentifier(clone), JSIdentifier(copy)))))))),Some(IfStatement(BinaryExpression(JSIdentifier(copy),List(BinaryExtension(Operator(!==),JSIdentifier(undefined)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name)))),JSIdentifier(copy)))),None)))))))),None)))), ReturnStatement(Some(JSIdentifier(target)))))))))
JSSource(List(Assign(Lookup(Lookup(Lookup(JSIdentifier(jQuery),JSString(fn)),JSString(init)),JSString(prototype)),Lookup(JSIdentifier(jQuery),JSString(fn))), Assign(Lookup(JSIdentifier(jQuery),JSString(extend)),Assign(Lookup(Lookup(JSIdentifier(jQuery),JSString(fn)),JSString(extend)),JSFunction(None,List(),List(Declare(JSIdentifier(options)), Declare(JSIdentifier(name)), Declare(JSIdentifier(src)), Declare(JSIdentifier(copy)), Declare(JSIdentifier(copyIsArray)), Declare(JSIdentifier(clone)), Declare(JSIdentifier(target)), Assign(JSIdentifier(target),OperatorCall(Operator(||),List(Lookup(JSIdentifier(arguments),JSNumber(0)), JSLiteralObject(List())))), Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(1)), Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(arguments),JSString(length))), Declare(JSIdentifier(deep)), Assign(JSIdentifier(deep),JSIdentifier(false)), IfStatement(OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(JSIdentifier(target))), JSString(boolean))),JSBlock(List(JSBlock(List(Assign(JSIdentifier(deep),JSIdentifier(target)), Assign(JSIdentifier(target),OperatorCall(Operator(||),List(Lookup(JSIdentifier(arguments),JSNumber(1)), JSLiteralObject(List())))), Assign(JSIdentifier(i),JSNumber(2)))))),None), IfStatement(OperatorCall(Operator(&&),List(OperatorCall(Operator(!==),List(OperatorCall(Operator(typeof),List(JSIdentifier(target))), JSString(object))), OperatorCall(Operator(!),List(Call(Lookup(JSIdentifier(jQuery),JSString(isFunction)),List(JSIdentifier(target))))))),JSBlock(List(JSBlock(List(Assign(JSIdentifier(target),JSLiteralObject(List())))))),None), IfStatement(OperatorCall(Operator(===),List(JSIdentifier(length), JSIdentifier(i))),JSBlock(List(JSBlock(List(Assign(JSIdentifier(target),JSIdentifier(this)), OperatorCall(Operator(--),List(JSIdentifier(i))))))),None), While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(JSBlock(List(IfStatement(OperatorCall(Operator(!=),List(Assign(JSIdentifier(options),Lookup(JSIdentifier(arguments),JSIdentifier(i))), JSIdentifier(null))),JSBlock(List(JSBlock(List(ForIn(JSBlock(List(JSIdentifier(name))),JSIdentifier(options),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(src),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name))))), AssignmentExpression(Operator(=),JSIdentifier(copy),CallExpression(0,JSIdentifier(options),List(ApplyLookup(JSIdentifier(name))))), IfStatement(BinaryExpression(JSIdentifier(target),List(BinaryExtension(Operator(===),JSIdentifier(copy)))),JSBlock(List(ContinueStatement(None))),None), IfStatement(BinaryExpression(JSIdentifier(deep),List(BinaryExtension(Operator(&&),JSIdentifier(copy)), BinaryExtension(Operator(&&),BinaryExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isPlainObject)), ApplyArguments(List(JSIdentifier(copy))))),List(BinaryExtension(Operator(||),AssignmentExpression(Operator(=),JSIdentifier(copyIsArray),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isArray)), ApplyArguments(List(JSIdentifier(copy)))))))))))),JSBlock(List(IfStatement(JSIdentifier(copyIsArray),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(copyIsArray),JSIdentifier(false)), AssignmentExpression(Operator(=),JSIdentifier(clone),ConditionalExpression(BinaryExpression(JSIdentifier(src),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isArray)), ApplyArguments(List(JSIdentifier(src)))))))),JSIdentifier(src),JSArrayLiteral(List()))))),Some(JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(clone),ConditionalExpression(BinaryExpression(JSIdentifier(src),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isPlainObject)), ApplyArguments(List(JSIdentifier(src)))))))),JSIdentifier(src),JSLiteralObject(List()))))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name)))),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(extend)), ApplyArguments(List(JSIdentifier(deep), JSIdentifier(clone), JSIdentifier(copy)))))))),Some(IfStatement(BinaryExpression(JSIdentifier(copy),List(BinaryExtension(Operator(!==),JSIdentifier(undefined)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(target),List(ApplyLookup(JSIdentifier(name)))),JSIdentifier(copy)))),None)))))))))),None))), PostfixExpression(JSIdentifier(i),Operator(++))))))), ReturnStatement(Some(JSIdentifier(target)))))))))
[398.1] parsed: JSSource(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(extend)), ApplyArguments(List(JSLiteralObject(List((JSString(noConflict),JSFunction(None,List(JSIdentifier(deep)),List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString($)))),List(BinaryExtension(Operator(===),JSIdentifier(jQuery)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString($)))),JSIdentifier(_$)))),None), IfStatement(BinaryExpression(JSIdentifier(deep),List(BinaryExtension(Operator(&&),BinaryExpression(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(jQuery)))),List(BinaryExtension(Operator(===),JSIdentifier(jQuery))))))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(jQuery)))),JSIdentifier(_jQuery)))),None), ReturnStatement(Some(JSIdentifier(jQuery)))))), (JSString(isReady),JSIdentifier(false)), (JSString(readyWait),JSNumber(1)), (JSString(holdReady),JSFunction(None,List(JSIdentifier(hold)),List(IfStatement(JSIdentifier(hold),JSBlock(List(PostfixExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(readyWait)))),Operator(++)))),Some(JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(ready)), ApplyArguments(List(JSIdentifier(true)))))))))))), (JSString(ready),JSFunction(None,List(JSIdentifier(wait)),List(IfStatement(BinaryExpression(BinaryExpression(BinaryExpression(JSIdentifier(wait),List(BinaryExtension(Operator(===),JSIdentifier(true)))),List(BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!), Operator(--)),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(readyWait)))))))),List(BinaryExtension(Operator(||),BinaryExpression(BinaryExpression(JSIdentifier(wait),List(BinaryExtension(Operator(!==),JSIdentifier(true)))),List(BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isReady))))))))))),JSBlock(List(IfStatement(UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(body))))),JSBlock(List(ReturnStatement(Some(CallExpression(0,JSIdentifier(setTimeout),List(ApplyArguments(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(ready)))), JSNumber(1))))))))),None), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isReady)))),JSIdentifier(true)), IfStatement(BinaryExpression(BinaryExpression(JSIdentifier(wait),List(BinaryExtension(Operator(!==),JSIdentifier(true)))),List(BinaryExtension(Operator(&&),BinaryExpression(UnaryExpression(List(Operator(--)),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(readyWait))))),List(BinaryExtension(Operator(>),JSNumber(0))))))),JSBlock(List(ReturnStatement(None))),None), CallExpression(0,JSIdentifier(readyList),List(ApplyLookup(JSString(resolveWith)), ApplyArguments(List(JSIdentifier(document), JSArrayLiteral(List(Some(JSIdentifier(jQuery)))))))), IfStatement(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(trigger)))),JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyArguments(List(JSIdentifier(document))), ApplyLookup(JSString(trigger)), ApplyArguments(List(JSString(ready))), ApplyLookup(JSString(unbind)), ApplyArguments(List(JSString(ready))))))),None))),None)))), (JSString(bindReady),JSFunction(None,List(),List(IfStatement(JSIdentifier(readyList),JSBlock(List(ReturnStatement(None))),None), AssignmentExpression(Operator(=),JSIdentifier(readyList),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(_Deferred)), ApplyArguments(List())))), IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(readyState)))),List(BinaryExtension(Operator(===),JSString(complete)))),JSBlock(List(ReturnStatement(Some(CallExpression(0,JSIdentifier(setTimeout),List(ApplyArguments(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(ready)))), JSNumber(1))))))))),None), IfStatement(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(addEventListener)))),JSBlock(List(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(addEventListener)), ApplyArguments(List(JSString(DOMContentLoaded), JSIdentifier(DOMContentLoaded), JSIdentifier(false))))), CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(addEventListener)), ApplyArguments(List(JSString(load), CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(ready)))), JSIdentifier(false))))))),Some(IfStatement(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(attachEvent)))),JSBlock(List(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(attachEvent)), ApplyArguments(List(JSString(onreadystatechange), JSIdentifier(DOMContentLoaded))))), CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(attachEvent)), ApplyArguments(List(JSString(onload), CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(ready)))))))), VariableDeclarations(List(VariableDeclaration(JSIdentifier(toplevel),Some(JSIdentifier(false))))), TryStatement(JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(toplevel),BinaryExpression(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(frameElement)))),List(BinaryExtension(Operator(==),JSIdentifier(null))))))),TryTail(Some(JSIdentifier(e)),Some(JSBlock(List())),None)), IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(document),List(ApplyLookup(JSString(documentElement)), ApplyLookup(JSString(doScroll)))),List(BinaryExtension(Operator(&&),JSIdentifier(toplevel)))),JSBlock(List(CallExpression(0,JSIdentifier(doScrollCheck),List(ApplyArguments(List()))))),None))),None)))))), (JSString(isFunction),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(BinaryExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(type)), ApplyArguments(List(JSIdentifier(obj))))),List(BinaryExtension(Operator(===),JSString(function))))))))), (JSString(isArray),BinaryExpression(CallExpression(0,JSIdentifier(Array),List(ApplyLookup(JSString(isArray)))),List(BinaryExtension(Operator(||),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(BinaryExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(type)), ApplyArguments(List(JSIdentifier(obj))))),List(BinaryExtension(Operator(===),JSString(array)))))))))))), (JSString(isWindow),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(BinaryExpression(JSIdentifier(obj),List(BinaryExtension(Operator(&&),BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(obj)),List(BinaryExtension(Operator(===),JSString(object))))), BinaryExtension(Operator(&&),BinaryExpression(JSString(setInterval),List(BinaryExtension(Operator(in),JSIdentifier(obj)))))))))))), (JSString(isNaN),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(BinaryExpression(BinaryExpression(JSIdentifier(obj),List(BinaryExtension(Operator(==),JSIdentifier(null)))),List(BinaryExtension(Operator(||),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(rdigit),List(ApplyLookup(JSString(test)), ApplyArguments(List(JSIdentifier(obj))))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(isNaN),List(ApplyArguments(List(JSIdentifier(obj))))))))))))), (JSString(type),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(ConditionalExpression(BinaryExpression(JSIdentifier(obj),List(BinaryExtension(Operator(==),JSIdentifier(null)))),CallExpression(0,JSIdentifier(String),List(ApplyArguments(List(JSIdentifier(obj))))),BinaryExpression(CallExpression(0,JSIdentifier(class2type),List(ApplyLookup(CallExpression(0,JSIdentifier(toString),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(obj)))))))),List(BinaryExtension(Operator(||),JSString(object)))))))))), (JSString(isPlainObject),JSFunction(None,List(JSIdentifier(obj)),List(IfStatement(BinaryExpression(UnaryExpression(List(Operator(!)),JSIdentifier(obj)),List(BinaryExtension(Operator(||),BinaryExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(type)), ApplyArguments(List(JSIdentifier(obj))))),List(BinaryExtension(Operator(!==),JSString(object))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(obj),List(ApplyLookup(JSString(nodeType))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isWindow)), ApplyArguments(List(JSIdentifier(obj)))))))),JSBlock(List(ReturnStatement(Some(JSIdentifier(false))))),None), IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(obj),List(ApplyLookup(JSString(constructor)))),List(BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(hasOwn),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(obj), JSString(constructor))))))), BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(hasOwn),List(ApplyLookup(JSString(call)), ApplyArguments(List(CallExpression(0,JSIdentifier(obj),List(ApplyLookup(JSString(constructor)), ApplyLookup(JSString(prototype)))), JSString(isPrototypeOf))))))))),JSBlock(List(ReturnStatement(Some(JSIdentifier(false))))),None), VariableDeclarations(List(VariableDeclaration(JSIdentifier(key),None))), ForStatement(Some(ForInit(JSIdentifier(key))),ForInUpdate(JSIdentifier(obj)),JSBlock(List())), ReturnStatement(Some(BinaryExpression(BinaryExpression(JSIdentifier(key),List(BinaryExtension(Operator(===),JSIdentifier(undefined)))),List(BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(hasOwn),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(obj), JSIdentifier(key))))))))))))), (JSString(isEmptyObject),JSFunction(None,List(JSIdentifier(obj)),List(ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(name),None))))),ForInUpdate(JSIdentifier(obj)),JSBlock(List(ReturnStatement(Some(JSIdentifier(false)))))), ReturnStatement(Some(JSIdentifier(true)))))), (JSString(error),JSFunction(None,List(JSIdentifier(msg)),List(ThrowStatement(JSIdentifier(msg))))), (JSString(parseJSON),JSFunction(None,List(JSIdentifier(data)),List(IfStatement(BinaryExpression(BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(data)),List(BinaryExtension(Operator(!==),JSString(string)))),List(BinaryExtension(Operator(||),UnaryExpression(List(Operator(!)),JSIdentifier(data))))),JSBlock(List(ReturnStatement(Some(JSIdentifier(null))))),None), AssignmentExpression(Operator(=),JSIdentifier(data),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(trim)), ApplyArguments(List(JSIdentifier(data)))))), IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(JSON)))),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(JSON)), ApplyLookup(JSString(parse))))))),JSBlock(List(ReturnStatement(Some(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(JSON)), ApplyLookup(JSString(parse)), ApplyArguments(List(JSIdentifier(data))))))))),None), IfStatement(CallExpression(0,JSIdentifier(rvalidchars),List(ApplyLookup(JSString(test)), ApplyArguments(List(CallExpression(0,JSIdentifier(data),List(ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(rvalidescape), JSString(@))), ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(rvalidtokens), JSString(]))), ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(rvalidbraces), JSString())))))))),JSBlock(List(ReturnStatement(Some(CallExpression(0,CallExpression(1,JSIdentifier(Function),List(ApplyArguments(List(BinaryExpression(JSString(return ),List(BinaryExtension(Operator(+),JSIdentifier(data)))))))),List(ApplyArguments(List()))))))),None), CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(error)), ApplyArguments(List(BinaryExpression(JSString(Invalid JSON: ),List(BinaryExtension(Operator(+),JSIdentifier(data))))))))))), (JSString(parseXML),JSFunction(None,List(JSIdentifier(data), JSIdentifier(xml), JSIdentifier(tmp)),List(IfStatement(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(DOMParser)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(tmp),CallExpression(1,JSIdentifier(DOMParser),List(ApplyArguments(List())))), AssignmentExpression(Operator(=),JSIdentifier(xml),CallExpression(0,JSIdentifier(tmp),List(ApplyLookup(JSString(parseFromString)), ApplyArguments(List(JSIdentifier(data), JSString(text/xml)))))))),Some(JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(xml),CallExpression(1,JSIdentifier(ActiveXObject),List(ApplyArguments(List(JSString(Microsoft.XMLDOM)))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(xml),List(ApplyLookup(JSString(async)))),JSString(false)), CallExpression(0,JSIdentifier(xml),List(ApplyLookup(JSString(loadXML)), ApplyArguments(List(JSIdentifier(data))))))))), AssignmentExpression(Operator(=),JSIdentifier(tmp),CallExpression(0,JSIdentifier(xml),List(ApplyLookup(JSString(documentElement))))), IfStatement(BinaryExpression(UnaryExpression(List(Operator(!)),JSIdentifier(tmp)),List(BinaryExtension(Operator(||),UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(tmp),List(ApplyLookup(JSString(nodeName)))))), BinaryExtension(Operator(||),BinaryExpression(CallExpression(0,JSIdentifier(tmp),List(ApplyLookup(JSString(nodeName)))),List(BinaryExtension(Operator(===),JSString(parsererror))))))),JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(error)), ApplyArguments(List(BinaryExpression(JSString(Invalid XML: ),List(BinaryExtension(Operator(+),JSIdentifier(data)))))))))),None), ReturnStatement(Some(JSIdentifier(xml)))))), (JSString(noop),JSFunction(None,List(),List())), (JSString(globalEval),JSFunction(None,List(JSIdentifier(data)),List(IfStatement(BinaryExpression(JSIdentifier(data),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(rnotwhite),List(ApplyLookup(JSString(test)), ApplyArguments(List(JSIdentifier(data)))))))),JSBlock(List(CallExpression(0,BinaryExpression(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(execScript)))),List(BinaryExtension(Operator(||),JSFunction(None,List(JSIdentifier(data)),List(CallExpression(0,JSIdentifier(window),List(ApplyLookup(JSString(eval)), ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(window), JSIdentifier(data)))))))))),List(ApplyArguments(List(JSIdentifier(data))))))),None)))), (JSString(camelCase),JSFunction(None,List(JSIdentifier(string)),List(ReturnStatement(Some(CallExpression(0,JSIdentifier(string),List(ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(rdashAlpha), JSIdentifier(fcamelCase)))))))))), (JSString(nodeName),JSFunction(None,List(JSIdentifier(elem), JSIdentifier(name)),List(ReturnStatement(Some(BinaryExpression(CallExpression(0,JSIdentifier(elem),List(ApplyLookup(JSString(nodeName)))),List(BinaryExtension(Operator(&&),BinaryExpression(CallExpression(0,JSIdentifier(elem),List(ApplyLookup(JSString(nodeName)), ApplyLookup(JSString(toUpperCase)), ApplyArguments(List()))),List(BinaryExtension(Operator(===),CallExpression(0,JSIdentifier(name),List(ApplyLookup(JSString(toUpperCase)), ApplyArguments(List())))))))))))))), (JSString(each),JSFunction(None,List(JSIdentifier(object), JSIdentifier(callback), JSIdentifier(args)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(name),None), VariableDeclaration(JSIdentifier(i),Some(JSNumber(0))), VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSString(length)))))), VariableDeclaration(JSIdentifier(isObj),Some(BinaryExpression(BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(===),JSIdentifier(undefined)))),List(BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isFunction)), ApplyArguments(List(JSIdentifier(object)))))))))))), IfStatement(JSIdentifier(args),JSBlock(List(IfStatement(JSIdentifier(isObj),JSBlock(List(ForStatement(Some(ForInit(JSIdentifier(name))),ForInUpdate(JSIdentifier(object)),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(apply)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))), JSIdentifier(args))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))),Some(JSBlock(List(ForStatement(None,ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),None),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(apply)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(PostfixExpression(JSIdentifier(i),Operator(++))))), JSIdentifier(args))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))))))),Some(JSBlock(List(IfStatement(JSIdentifier(isObj),JSBlock(List(ForStatement(Some(ForInit(JSIdentifier(name))),ForInUpdate(JSIdentifier(object)),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(call)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))), JSIdentifier(name), CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))),Some(JSBlock(List(ForStatement(None,ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),None),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(call)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(i), CallExpression(0,JSIdentifier(object),List(ApplyLookup(PostfixExpression(JSIdentifier(i),Operator(++))))))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))))))))), ReturnStatement(Some(JSIdentifier(object)))))), (JSString(trim),ConditionalExpression(JSIdentifier(trim),JSFunction(None,List(JSIdentifier(text)),List(ReturnStatement(Some(ConditionalExpression(BinaryExpression(JSIdentifier(text),List(BinaryExtension(Operator(==),JSIdentifier(null)))),JSString(),CallExpression(0,JSIdentifier(trim),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(text)))))))))),JSFunction(None,List(JSIdentifier(text)),List(ReturnStatement(Some(ConditionalExpression(BinaryExpression(JSIdentifier(text),List(BinaryExtension(Operator(==),JSIdentifier(null)))),JSString(),CallExpression(0,JSIdentifier(text),List(ApplyLookup(JSString(toString)), ApplyArguments(List()), ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(trimLeft), JSString())), ApplyLookup(JSString(replace)), ApplyArguments(List(JSIdentifier(trimRight), JSString()))))))))))), (JSString(makeArray),JSFunction(None,List(JSIdentifier(array), JSIdentifier(results)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(ret),Some(BinaryExpression(JSIdentifier(results),List(BinaryExtension(Operator(||),JSArrayLiteral(List())))))))), IfStatement(BinaryExpression(JSIdentifier(array),List(BinaryExtension(Operator(!=),JSIdentifier(null)))),JSBlock(List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(type),Some(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(type)), ApplyArguments(List(JSIdentifier(array))))))))), IfStatement(BinaryExpression(BinaryExpression(CallExpression(0,JSIdentifier(array),List(ApplyLookup(JSString(length)))),List(BinaryExtension(Operator(==),JSIdentifier(null)))),List(BinaryExtension(Operator(||),BinaryExpression(JSIdentifier(type),List(BinaryExtension(Operator(===),JSString(string))))), BinaryExtension(Operator(||),BinaryExpression(JSIdentifier(type),List(BinaryExtension(Operator(===),JSString(function))))), BinaryExtension(Operator(||),BinaryExpression(JSIdentifier(type),List(BinaryExtension(Operator(===),JSString(regexp))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isWindow)), ApplyArguments(List(JSIdentifier(array)))))))),JSBlock(List(CallExpression(0,JSIdentifier(push),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(ret), JSIdentifier(array))))))),Some(JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(merge)), ApplyArguments(List(JSIdentifier(ret), JSIdentifier(array))))))))))),None), ReturnStatement(Some(JSIdentifier(ret)))))), (JSString(inArray),JSFunction(None,List(JSIdentifier(elem), JSIdentifier(array)),List(IfStatement(JSIdentifier(indexOf),JSBlock(List(ReturnStatement(Some(CallExpression(0,JSIdentifier(indexOf),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(array), JSIdentifier(elem))))))))),None), ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(i),Some(JSNumber(0))), VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(array),List(ApplyLookup(JSString(length)))))))))),ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),Some(PostfixExpression(JSIdentifier(i),Operator(++)))),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(array),List(ApplyLookup(JSIdentifier(i)))),List(BinaryExtension(Operator(===),JSIdentifier(elem)))),JSBlock(List(ReturnStatement(Some(JSIdentifier(i))))),None)))), ReturnStatement(Some(UnaryExpression(List(Operator(-)),JSNumber(1))))))), (JSString(merge),JSFunction(None,List(JSIdentifier(first), JSIdentifier(second)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(i),Some(CallExpression(0,JSIdentifier(first),List(ApplyLookup(JSString(length)))))), VariableDeclaration(JSIdentifier(j),Some(JSNumber(0))))), IfStatement(BinaryExpression(UnaryExpression(List(Operator(typeof)),CallExpression(0,JSIdentifier(second),List(ApplyLookup(JSString(length))))),List(BinaryExtension(Operator(===),JSString(number)))),JSBlock(List(ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(l),Some(CallExpression(0,JSIdentifier(second),List(ApplyLookup(JSString(length)))))))))),ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(j),List(BinaryExtension(Operator(<),JSIdentifier(l))))),Some(PostfixExpression(JSIdentifier(j),Operator(++)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(first),List(ApplyLookup(PostfixExpression(JSIdentifier(i),Operator(++))))),CallExpression(0,JSIdentifier(second),List(ApplyLookup(JSIdentifier(j)))))))))),Some(JSBlock(List(While(BinaryExpression(CallExpression(0,JSIdentifier(second),List(ApplyLookup(JSIdentifier(j)))),List(BinaryExtension(Operator(!==),JSIdentifier(undefined)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(first),List(ApplyLookup(PostfixExpression(JSIdentifier(i),Operator(++))))),CallExpression(0,JSIdentifier(second),List(ApplyLookup(PostfixExpression(JSIdentifier(j),Operator(++))))))))))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(first),List(ApplyLookup(JSString(length)))),JSIdentifier(i)), ReturnStatement(Some(JSIdentifier(first)))))), (JSString(grep),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(callback), JSIdentifier(inv)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(ret),Some(JSArrayLiteral(List()))), VariableDeclaration(JSIdentifier(retVal),None))), AssignmentExpression(Operator(=),JSIdentifier(inv),UnaryExpression(List(Operator(!), Operator(!)),JSIdentifier(inv))), ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(i),Some(JSNumber(0))), VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSString(length)))))))))),ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),Some(PostfixExpression(JSIdentifier(i),Operator(++)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(retVal),UnaryExpression(List(Operator(!), Operator(!)),CallExpression(0,JSIdentifier(callback),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(i))))))), IfStatement(BinaryExpression(JSIdentifier(inv),List(BinaryExtension(Operator(!==),JSIdentifier(retVal)))),JSBlock(List(CallExpression(0,JSIdentifier(ret),List(ApplyLookup(JSString(push)), ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))))))))),None)))), ReturnStatement(Some(JSIdentifier(ret)))))), (JSString(map),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(callback), JSIdentifier(arg)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(value),None), VariableDeclaration(JSIdentifier(key),None), VariableDeclaration(JSIdentifier(ret),Some(JSArrayLiteral(List()))), VariableDeclaration(JSIdentifier(i),Some(JSNumber(0))), VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSString(length)))))), VariableDeclaration(JSIdentifier(isArray),Some(BinaryExpression(BinaryExpression(JSIdentifier(elems),List(BinaryExtension(Operator(instanceof),JSIdentifier(jQuery)))),List(BinaryExtension(Operator(||),BinaryExpression(BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(!==),JSIdentifier(undefined)))),List(BinaryExtension(Operator(&&),BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(length)),List(BinaryExtension(Operator(===),JSString(number))))), BinaryExtension(Operator(&&),BinaryExpression(BinaryExpression(BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(>),JSNumber(0)))),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSNumber(0))))), BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(elems),List(ApplyLookup(BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(-),JSNumber(1)))))))))),List(BinaryExtension(Operator(||),BinaryExpression(JSIdentifier(length),List(BinaryExtension(Operator(===),JSNumber(0))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isArray)), ApplyArguments(List(JSIdentifier(elems)))))))))))))))))), IfStatement(JSIdentifier(isArray),JSBlock(List(ForStatement(None,ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),Some(PostfixExpression(JSIdentifier(i),Operator(++)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(value),CallExpression(0,JSIdentifier(callback),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(i), JSIdentifier(arg)))))), IfStatement(BinaryExpression(JSIdentifier(value),List(BinaryExtension(Operator(!=),JSIdentifier(null)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(ret),List(ApplyLookup(CallExpression(0,JSIdentifier(ret),List(ApplyLookup(JSString(length))))))),JSIdentifier(value)))),None)))))),Some(JSBlock(List(ForStatement(Some(ForInit(JSIdentifier(key))),ForInUpdate(JSIdentifier(elems)),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(value),CallExpression(0,JSIdentifier(callback),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(key)))), JSIdentifier(key), JSIdentifier(arg)))))), IfStatement(BinaryExpression(JSIdentifier(value),List(BinaryExtension(Operator(!=),JSIdentifier(null)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(ret),List(ApplyLookup(CallExpression(0,JSIdentifier(ret),List(ApplyLookup(JSString(length))))))),JSIdentifier(value)))),None)))))))), ReturnStatement(Some(CallExpression(0,JSIdentifier(ret),List(ApplyLookup(JSString(concat)), ApplyLookup(JSString(apply)), ApplyArguments(List(JSArrayLiteral(List()), JSIdentifier(ret)))))))))), (JSString(guid),JSNumber(1)), (JSString(proxy),JSFunction(None,List(JSIdentifier(fn), JSIdentifier(context)),List(IfStatement(BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(context)),List(BinaryExtension(Operator(===),JSString(string)))),JSBlock(List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(tmp),Some(CallExpression(0,JSIdentifier(fn),List(ApplyLookup(JSIdentifier(context)))))))), AssignmentExpression(Operator(=),JSIdentifier(context),JSIdentifier(fn)), AssignmentExpression(Operator(=),JSIdentifier(fn),JSIdentifier(tmp)))),None), IfStatement(UnaryExpression(List(Operator(!)),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isFunction)), ApplyArguments(List(JSIdentifier(fn)))))),JSBlock(List(ReturnStatement(Some(JSIdentifier(undefined))))),None), VariableDeclarations(List(VariableDeclaration(JSIdentifier(args),Some(CallExpression(0,JSIdentifier(slice),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(arguments), JSNumber(2))))))), VariableDeclaration(JSIdentifier(proxy),Some(JSFunction(None,List(),List(ReturnStatement(Some(CallExpression(0,JSIdentifier(fn),List(ApplyLookup(JSString(apply)), ApplyArguments(List(JSIdentifier(context), CallExpression(0,JSIdentifier(args),List(ApplyLookup(JSString(concat)), ApplyArguments(List(CallExpression(0,JSIdentifier(slice),List(ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(arguments))))))))))))))))))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(proxy),List(ApplyLookup(JSString(guid)))),AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(fn),List(ApplyLookup(JSString(guid)))),BinaryExpression(CallExpression(0,JSIdentifier(fn),List(ApplyLookup(JSString(guid)))),List(BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(proxy),List(ApplyLookup(JSString(guid))))), BinaryExtension(Operator(||),PostfixExpression(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(guid)))),Operator(++))))))), ReturnStatement(Some(JSIdentifier(proxy)))))), (JSString(access),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(key), JSIdentifier(value), JSIdentifier(exec), JSIdentifier(fn), JSIdentifier(pass)),List(VariableDeclarations(List(VariableDeclaration(JSIdentifier(length),Some(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSString(length)))))))), IfStatement(BinaryExpression(UnaryExpression(List(Operator(typeof)),JSIdentifier(key)),List(BinaryExtension(Operator(===),JSString(object)))),JSBlock(List(ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(k),None))))),ForInUpdate(JSIdentifier(key)),JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(access)), ApplyArguments(List(JSIdentifier(elems), JSIdentifier(k), CallExpression(0,JSIdentifier(key),List(ApplyLookup(JSIdentifier(k)))), JSIdentifier(exec), JSIdentifier(fn), JSIdentifier(value)))))))), ReturnStatement(Some(JSIdentifier(elems))))),None), IfStatement(BinaryExpression(JSIdentifier(value),List(BinaryExtension(Operator(!==),JSIdentifier(undefined)))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(exec),BinaryExpression(UnaryExpression(List(Operator(!)),JSIdentifier(pass)),List(BinaryExtension(Operator(&&),JSIdentifier(exec)), BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(isFunction)), ApplyArguments(List(JSIdentifier(value))))))))), ForStatement(Some(ForInit(VariableDeclarations(List(VariableDeclaration(JSIdentifier(i),Some(JSNumber(0))))))),ForSemicolonUpdate(Some(BinaryExpression(JSIdentifier(i),List(BinaryExtension(Operator(<),JSIdentifier(length))))),Some(PostfixExpression(JSIdentifier(i),Operator(++)))),JSBlock(List(CallExpression(0,JSIdentifier(fn),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(key), ConditionalExpression(JSIdentifier(exec),CallExpression(0,JSIdentifier(value),List(ApplyLookup(JSString(call)), ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(i), CallExpression(0,JSIdentifier(fn),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(i)))), JSIdentifier(key))))))))),JSIdentifier(value)), JSIdentifier(pass)))))))), ReturnStatement(Some(JSIdentifier(elems))))),None), ReturnStatement(Some(ConditionalExpression(JSIdentifier(length),CallExpression(0,JSIdentifier(fn),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSNumber(0)))), JSIdentifier(key))))),JSIdentifier(undefined))))))), (JSString(now),JSFunction(None,List(),List(ReturnStatement(Some(CallExpression(0,CallExpression(1,JSIdentifier(Date),List(ApplyArguments(List()))),List(ApplyLookup(JSString(getTime)), ApplyArguments(List())))))))), (JSString(uaMatch),JSFunction(None,List(JSIdentifier(ua)),List(AssignmentExpression(Operator(=),JSIdentifier(ua),CallExpression(0,JSIdentifier(ua),List(ApplyLookup(JSString(toLowerCase)), ApplyArguments(List())))), VariableDeclarations(List(VariableDeclaration(JSIdentifier(match),Some(BinaryExpression(CallExpression(0,JSIdentifier(rwebkit),List(ApplyLookup(JSString(exec)), ApplyArguments(List(JSIdentifier(ua))))),List(BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(ropera),List(ApplyLookup(JSString(exec)), ApplyArguments(List(JSIdentifier(ua)))))), BinaryExtension(Operator(||),CallExpression(0,JSIdentifier(rmsie),List(ApplyLookup(JSString(exec)), ApplyArguments(List(JSIdentifier(ua)))))), BinaryExtension(Operator(||),BinaryExpression(BinaryExpression(CallExpression(0,JSIdentifier(ua),List(ApplyLookup(JSString(indexOf)), ApplyArguments(List(JSString(compatible))))),List(BinaryExtension(Operator(<),JSNumber(0)))),List(BinaryExtension(Operator(&&),CallExpression(0,JSIdentifier(rmozilla),List(ApplyLookup(JSString(exec)), ApplyArguments(List(JSIdentifier(ua))))))))), BinaryExtension(Operator(||),JSArrayLiteral(List())))))))), ReturnStatement(Some(JSLiteralObject(List((JSString(browser),BinaryExpression(CallExpression(0,JSIdentifier(match),List(ApplyLookup(JSNumber(1)))),List(BinaryExtension(Operator(||),JSString())))), (JSString(version),BinaryExpression(CallExpression(0,JSIdentifier(match),List(ApplyLookup(JSNumber(2)))),List(BinaryExtension(Operator(||),JSString(0)))))))))))), (JSString(sub),JSFunction(None,List(),List()))))))))))
JSSource(List(Call(Lookup(JSIdentifier(jQuery),JSString(extend)),List(JSLiteralObject(List((JSString(noConflict),JSFunction(None,List(JSIdentifier(deep)),List(IfStatement(OperatorCall(Operator(===),List(Lookup(JSIdentifier(window),JSString($)), JSIdentifier(jQuery))),JSBlock(List(JSBlock(List(Assign(Lookup(JSIdentifier(window),JSString($)),JSIdentifier(_$)))))),None), IfStatement(OperatorCall(Operator(&&),List(JSIdentifier(deep), OperatorCall(Operator(===),List(Lookup(JSIdentifier(window),JSString(jQuery)), JSIdentifier(jQuery))))),JSBlock(List(JSBlock(List(Assign(Lookup(JSIdentifier(window),JSString(jQuery)),JSIdentifier(_jQuery)))))),None), ReturnStatement(Some(JSIdentifier(jQuery)))))), (JSString(isReady),JSIdentifier(false)), (JSString(readyWait),JSNumber(1)), (JSString(holdReady),JSFunction(None,List(JSIdentifier(hold)),List(IfStatement(JSIdentifier(hold),JSBlock(List(JSBlock(List(PostfixExpression(Lookup(JSIdentifier(jQuery),JSString(readyWait)),Operator(++)))))),Some(JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(jQuery),JSString(ready)),List(JSIdentifier(true)))))))))))), (JSString(ready),JSFunction(None,List(JSIdentifier(wait)),List(IfStatement(OperatorCall(Operator(||),List(OperatorCall(Operator(&&),List(OperatorCall(Operator(===),List(JSIdentifier(wait), JSIdentifier(true))), OperatorCall(Operator(!),List(OperatorCall(Operator(--),List(Lookup(JSIdentifier(jQuery),JSString(readyWait)))))))), OperatorCall(Operator(&&),List(OperatorCall(Operator(!==),List(JSIdentifier(wait), JSIdentifier(true))), OperatorCall(Operator(!),List(Lookup(JSIdentifier(jQuery),JSString(isReady)))))))),JSBlock(List(JSBlock(List(IfStatement(OperatorCall(Operator(!),List(Lookup(JSIdentifier(document),JSString(body)))),JSBlock(List(JSBlock(List(ReturnStatement(Some(Call(JSIdentifier(setTimeout),List(Lookup(JSIdentifier(jQuery),JSString(ready)), JSNumber(1))))))))),None), Assign(Lookup(JSIdentifier(jQuery),JSString(isReady)),JSIdentifier(true)), IfStatement(OperatorCall(Operator(&&),List(OperatorCall(Operator(!==),List(JSIdentifier(wait), JSIdentifier(true))), OperatorCall(Operator(>),List(OperatorCall(Operator(--),List(Lookup(JSIdentifier(jQuery),JSString(readyWait)))), JSNumber(0))))),JSBlock(List(JSBlock(List(ReturnStatement(None))))),None), Call(Lookup(JSIdentifier(readyList),JSString(resolveWith)),List(JSIdentifier(document), JSArrayLiteral(List(Some(JSIdentifier(jQuery)))))), IfStatement(Lookup(Lookup(JSIdentifier(jQuery),JSString(fn)),JSString(trigger)),JSBlock(List(JSBlock(List(Call(Lookup(Call(Lookup(Call(JSIdentifier(jQuery),List(JSIdentifier(document))),JSString(trigger)),List(JSString(ready))),JSString(unbind)),List(JSString(ready))))))),None))))),None)))), (JSString(bindReady),JSFunction(None,List(),List(IfStatement(JSIdentifier(readyList),JSBlock(List(JSBlock(List(ReturnStatement(None))))),None), Assign(JSIdentifier(readyList),Call(Lookup(JSIdentifier(jQuery),JSString(_Deferred)),List())), IfStatement(OperatorCall(Operator(===),List(Lookup(JSIdentifier(document),JSString(readyState)), JSString(complete))),JSBlock(List(JSBlock(List(ReturnStatement(Some(Call(JSIdentifier(setTimeout),List(Lookup(JSIdentifier(jQuery),JSString(ready)), JSNumber(1))))))))),None), IfStatement(Lookup(JSIdentifier(document),JSString(addEventListener)),JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(document),JSString(addEventListener)),List(JSString(DOMContentLoaded), JSIdentifier(DOMContentLoaded), JSIdentifier(false))), Call(Lookup(JSIdentifier(window),JSString(addEventListener)),List(JSString(load), Lookup(JSIdentifier(jQuery),JSString(ready)), JSIdentifier(false))))))),Some(JSBlock(List(IfStatement(Lookup(JSIdentifier(document),JSString(attachEvent)),JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(document),JSString(attachEvent)),List(JSString(onreadystatechange), JSIdentifier(DOMContentLoaded))), Call(Lookup(JSIdentifier(window),JSString(attachEvent)),List(JSString(onload), Lookup(JSIdentifier(jQuery),JSString(ready)))), Declare(JSIdentifier(toplevel)), Assign(JSIdentifier(toplevel),JSIdentifier(false)), Try(JSBlock(List(JSBlock(List(Assign(JSIdentifier(toplevel),OperatorCall(Operator(==),List(Lookup(JSIdentifier(window),JSString(frameElement)), JSIdentifier(null)))))))),Some(Catch(JSIdentifier(e),JSBlock(List(JSBlock(List()))))),None), IfStatement(OperatorCall(Operator(&&),List(Lookup(Lookup(JSIdentifier(document),JSString(documentElement)),JSString(doScroll)), JSIdentifier(toplevel))),JSBlock(List(JSBlock(List(Call(JSIdentifier(doScrollCheck),List()))))),None))))),None)))))))), (JSString(isFunction),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(OperatorCall(Operator(===),List(Call(Lookup(JSIdentifier(jQuery),JSString(type)),List(JSIdentifier(obj))), JSString(function)))))))), (JSString(isArray),OperatorCall(Operator(||),List(Lookup(JSIdentifier(Array),JSString(isArray)), JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(OperatorCall(Operator(===),List(Call(Lookup(JSIdentifier(jQuery),JSString(type)),List(JSIdentifier(obj))), JSString(array)))))))))), (JSString(isWindow),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(JSIdentifier(obj), OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(JSIdentifier(obj))), JSString(object))))), OperatorCall(Operator(in),List(JSString(setInterval), JSIdentifier(obj)))))))))), (JSString(isNaN),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(==),List(JSIdentifier(obj), JSIdentifier(null))), OperatorCall(Operator(!),List(Call(Lookup(JSIdentifier(rdigit),JSString(test)),List(JSIdentifier(obj))))))), Call(JSIdentifier(isNaN),List(JSIdentifier(obj)))))))))), (JSString(type),JSFunction(None,List(JSIdentifier(obj)),List(ReturnStatement(Some(ConditionalExpression(OperatorCall(Operator(==),List(JSIdentifier(obj), JSIdentifier(null))),Call(JSIdentifier(String),List(JSIdentifier(obj))),OperatorCall(Operator(||),List(Lookup(JSIdentifier(class2type),Call(Lookup(JSIdentifier(toString),JSString(call)),List(JSIdentifier(obj)))), JSString(object))))))))), (JSString(isPlainObject),JSFunction(None,List(JSIdentifier(obj)),List(IfStatement(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(!),List(JSIdentifier(obj))), OperatorCall(Operator(!==),List(Call(Lookup(JSIdentifier(jQuery),JSString(type)),List(JSIdentifier(obj))), JSString(object))))), Lookup(JSIdentifier(obj),JSString(nodeType)))), Call(Lookup(JSIdentifier(jQuery),JSString(isWindow)),List(JSIdentifier(obj))))),JSBlock(List(JSBlock(List(ReturnStatement(Some(JSIdentifier(false))))))),None), IfStatement(OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(Lookup(JSIdentifier(obj),JSString(constructor)), OperatorCall(Operator(!),List(Call(Lookup(JSIdentifier(hasOwn),JSString(call)),List(JSIdentifier(obj), JSString(constructor))))))), OperatorCall(Operator(!),List(Call(Lookup(JSIdentifier(hasOwn),JSString(call)),List(Lookup(Lookup(JSIdentifier(obj),JSString(constructor)),JSString(prototype)), JSString(isPrototypeOf))))))),JSBlock(List(JSBlock(List(ReturnStatement(Some(JSIdentifier(false))))))),None), Declare(JSIdentifier(key)), ForIn(JSBlock(List(JSIdentifier(key))),JSIdentifier(obj),JSBlock(List())), ReturnStatement(Some(OperatorCall(Operator(||),List(OperatorCall(Operator(===),List(JSIdentifier(key), JSIdentifier(undefined))), Call(Lookup(JSIdentifier(hasOwn),JSString(call)),List(JSIdentifier(obj), JSIdentifier(key)))))))))), (JSString(isEmptyObject),JSFunction(None,List(JSIdentifier(obj)),List(ForIn(JSBlock(List(Declare(JSIdentifier(name)))),JSIdentifier(obj),JSBlock(List(ReturnStatement(Some(JSIdentifier(false)))))), ReturnStatement(Some(JSIdentifier(true)))))), (JSString(error),JSFunction(None,List(JSIdentifier(msg)),List(ThrowStatement(JSIdentifier(msg))))), (JSString(parseJSON),JSFunction(None,List(JSIdentifier(data)),List(IfStatement(OperatorCall(Operator(||),List(OperatorCall(Operator(!==),List(OperatorCall(Operator(typeof),List(JSIdentifier(data))), JSString(string))), OperatorCall(Operator(!),List(JSIdentifier(data))))),JSBlock(List(JSBlock(List(ReturnStatement(Some(JSIdentifier(null))))))),None), Assign(JSIdentifier(data),Call(Lookup(JSIdentifier(jQuery),JSString(trim)),List(JSIdentifier(data)))), IfStatement(OperatorCall(Operator(&&),List(Lookup(JSIdentifier(window),JSString(JSON)), Lookup(Lookup(JSIdentifier(window),JSString(JSON)),JSString(parse)))),JSBlock(List(JSBlock(List(ReturnStatement(Some(Call(Lookup(Lookup(JSIdentifier(window),JSString(JSON)),JSString(parse)),List(JSIdentifier(data))))))))),None), IfStatement(Call(Lookup(JSIdentifier(rvalidchars),JSString(test)),List(Call(Lookup(Call(Lookup(Call(Lookup(JSIdentifier(data),JSString(replace)),List(JSIdentifier(rvalidescape), JSString(@))),JSString(replace)),List(JSIdentifier(rvalidtokens), JSString(]))),JSString(replace)),List(JSIdentifier(rvalidbraces), JSString())))),JSBlock(List(JSBlock(List(ReturnStatement(Some(Call(New(JSIdentifier(Function),List(OperatorCall(Operator(+),List(JSString(return ), JSIdentifier(data))))),List()))))))),None), Call(Lookup(JSIdentifier(jQuery),JSString(error)),List(OperatorCall(Operator(+),List(JSString(Invalid JSON: ), JSIdentifier(data)))))))), (JSString(parseXML),JSFunction(None,List(JSIdentifier(data), JSIdentifier(xml), JSIdentifier(tmp)),List(IfStatement(Lookup(JSIdentifier(window),JSString(DOMParser)),JSBlock(List(JSBlock(List(Assign(JSIdentifier(tmp),New(JSIdentifier(DOMParser),List())), Assign(JSIdentifier(xml),Call(Lookup(JSIdentifier(tmp),JSString(parseFromString)),List(JSIdentifier(data), JSString(text/xml)))))))),Some(JSBlock(List(JSBlock(List(Assign(JSIdentifier(xml),New(JSIdentifier(ActiveXObject),List(JSString(Microsoft.XMLDOM)))), Assign(Lookup(JSIdentifier(xml),JSString(async)),JSString(false)), Call(Lookup(JSIdentifier(xml),JSString(loadXML)),List(JSIdentifier(data))))))))), Assign(JSIdentifier(tmp),Lookup(JSIdentifier(xml),JSString(documentElement))), IfStatement(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(!),List(JSIdentifier(tmp))), OperatorCall(Operator(!),List(Lookup(JSIdentifier(tmp),JSString(nodeName)))))), OperatorCall(Operator(===),List(Lookup(JSIdentifier(tmp),JSString(nodeName)), JSString(parsererror))))),JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(jQuery),JSString(error)),List(OperatorCall(Operator(+),List(JSString(Invalid XML: ), JSIdentifier(data))))))))),None), ReturnStatement(Some(JSIdentifier(xml)))))), (JSString(noop),JSFunction(None,List(),List())), (JSString(globalEval),JSFunction(None,List(JSIdentifier(data)),List(IfStatement(OperatorCall(Operator(&&),List(JSIdentifier(data), Call(Lookup(JSIdentifier(rnotwhite),JSString(test)),List(JSIdentifier(data))))),JSBlock(List(JSBlock(List(Call(OperatorCall(Operator(||),List(Lookup(JSIdentifier(window),JSString(execScript)), JSFunction(None,List(JSIdentifier(data)),List(Call(Lookup(Lookup(JSIdentifier(window),JSString(eval)),JSString(call)),List(JSIdentifier(window), JSIdentifier(data))))))),List(JSIdentifier(data))))))),None)))), (JSString(camelCase),JSFunction(None,List(JSIdentifier(string)),List(ReturnStatement(Some(Call(Lookup(JSIdentifier(string),JSString(replace)),List(JSIdentifier(rdashAlpha), JSIdentifier(fcamelCase)))))))), (JSString(nodeName),JSFunction(None,List(JSIdentifier(elem), JSIdentifier(name)),List(ReturnStatement(Some(OperatorCall(Operator(&&),List(Lookup(JSIdentifier(elem),JSString(nodeName)), OperatorCall(Operator(===),List(Call(Lookup(Lookup(JSIdentifier(elem),JSString(nodeName)),JSString(toUpperCase)),List()), Call(Lookup(JSIdentifier(name),JSString(toUpperCase)),List())))))))))), (JSString(each),JSFunction(None,List(JSIdentifier(object), JSIdentifier(callback), JSIdentifier(args)),List(Declare(JSIdentifier(name)), Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(0)), Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(object),JSString(length))), Declare(JSIdentifier(isObj)), Assign(JSIdentifier(isObj),OperatorCall(Operator(||),List(OperatorCall(Operator(===),List(JSIdentifier(length), JSIdentifier(undefined))), Call(Lookup(JSIdentifier(jQuery),JSString(isFunction)),List(JSIdentifier(object)))))), IfStatement(JSIdentifier(args),JSBlock(List(JSBlock(List(IfStatement(JSIdentifier(isObj),JSBlock(List(JSBlock(List(ForIn(JSBlock(List(JSIdentifier(name))),JSIdentifier(object),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(apply)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))), JSIdentifier(args))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))))),Some(JSBlock(List(JSBlock(List(While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(IfStatement(OperatorCall(Operator(===),List(Call(Lookup(JSIdentifier(callback),JSString(apply)),List(Lookup(JSIdentifier(object),PostfixExpression(JSIdentifier(i),Operator(++))), JSIdentifier(args))), JSIdentifier(false))),JSBlock(List(JSBlock(List(BreakStatement(None))))),None)))))))))))))))),Some(JSBlock(List(JSBlock(List(IfStatement(JSIdentifier(isObj),JSBlock(List(JSBlock(List(ForIn(JSBlock(List(JSIdentifier(name))),JSIdentifier(object),JSBlock(List(IfStatement(BinaryExpression(CallExpression(0,JSIdentifier(callback),List(ApplyLookup(JSString(call)), ApplyArguments(List(CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))), JSIdentifier(name), CallExpression(0,JSIdentifier(object),List(ApplyLookup(JSIdentifier(name)))))))),List(BinaryExtension(Operator(===),JSIdentifier(false)))),JSBlock(List(BreakStatement(None))),None)))))))),Some(JSBlock(List(JSBlock(List(While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(IfStatement(OperatorCall(Operator(===),List(Call(Lookup(JSIdentifier(callback),JSString(call)),List(Lookup(JSIdentifier(object),JSIdentifier(i)), JSIdentifier(i), Lookup(JSIdentifier(object),PostfixExpression(JSIdentifier(i),Operator(++))))), JSIdentifier(false))),JSBlock(List(JSBlock(List(BreakStatement(None))))),None)))))))))))))))))), ReturnStatement(Some(JSIdentifier(object)))))), (JSString(trim),ConditionalExpression(JSIdentifier(trim),JSFunction(None,List(JSIdentifier(text)),List(ReturnStatement(Some(ConditionalExpression(OperatorCall(Operator(==),List(JSIdentifier(text), JSIdentifier(null))),JSString(),Call(Lookup(JSIdentifier(trim),JSString(call)),List(JSIdentifier(text)))))))),JSFunction(None,List(JSIdentifier(text)),List(ReturnStatement(Some(ConditionalExpression(OperatorCall(Operator(==),List(JSIdentifier(text), JSIdentifier(null))),JSString(),Call(Lookup(Call(Lookup(Call(Lookup(JSIdentifier(text),JSString(toString)),List()),JSString(replace)),List(JSIdentifier(trimLeft), JSString())),JSString(replace)),List(JSIdentifier(trimRight), JSString()))))))))), (JSString(makeArray),JSFunction(None,List(JSIdentifier(array), JSIdentifier(results)),List(Declare(JSIdentifier(ret)), Assign(JSIdentifier(ret),OperatorCall(Operator(||),List(JSIdentifier(results), JSArrayLiteral(List())))), IfStatement(OperatorCall(Operator(!=),List(JSIdentifier(array), JSIdentifier(null))),JSBlock(List(JSBlock(List(Declare(JSIdentifier(type)), Assign(JSIdentifier(type),Call(Lookup(JSIdentifier(jQuery),JSString(type)),List(JSIdentifier(array)))), IfStatement(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(==),List(Lookup(JSIdentifier(array),JSString(length)), JSIdentifier(null))), OperatorCall(Operator(===),List(JSIdentifier(type), JSString(string))))), OperatorCall(Operator(===),List(JSIdentifier(type), JSString(function))))), OperatorCall(Operator(===),List(JSIdentifier(type), JSString(regexp))))), Call(Lookup(JSIdentifier(jQuery),JSString(isWindow)),List(JSIdentifier(array))))),JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(push),JSString(call)),List(JSIdentifier(ret), JSIdentifier(array))))))),Some(JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(jQuery),JSString(merge)),List(JSIdentifier(ret), JSIdentifier(array))))))))))))),None), ReturnStatement(Some(JSIdentifier(ret)))))), (JSString(inArray),JSFunction(None,List(JSIdentifier(elem), JSIdentifier(array)),List(IfStatement(JSIdentifier(indexOf),JSBlock(List(JSBlock(List(ReturnStatement(Some(Call(Lookup(JSIdentifier(indexOf),JSString(call)),List(JSIdentifier(array), JSIdentifier(elem))))))))),None), JSBlock(List(Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(0)), Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(array),JSString(length))), While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(JSBlock(List(IfStatement(OperatorCall(Operator(===),List(Lookup(JSIdentifier(array),JSIdentifier(i)), JSIdentifier(elem))),JSBlock(List(JSBlock(List(ReturnStatement(Some(JSIdentifier(i))))))),None))), PostfixExpression(JSIdentifier(i),Operator(++))))))))), ReturnStatement(Some(OperatorCall(Operator(-),List(JSNumber(1)))))))), (JSString(merge),JSFunction(None,List(JSIdentifier(first), JSIdentifier(second)),List(Declare(JSIdentifier(i)), Assign(JSIdentifier(i),Lookup(JSIdentifier(first),JSString(length))), Declare(JSIdentifier(j)), Assign(JSIdentifier(j),JSNumber(0)), IfStatement(OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(Lookup(JSIdentifier(second),JSString(length)))), JSString(number))),JSBlock(List(JSBlock(List(JSBlock(List(Declare(JSIdentifier(l)), Assign(JSIdentifier(l),Lookup(JSIdentifier(second),JSString(length))), While(OperatorCall(Operator(<),List(JSIdentifier(j), JSIdentifier(l))),JSBlock(List(JSBlock(List(JSBlock(List(Assign(Lookup(JSIdentifier(first),PostfixExpression(JSIdentifier(i),Operator(++))),Lookup(JSIdentifier(second),JSIdentifier(j))))), PostfixExpression(JSIdentifier(j),Operator(++))))))))))))),Some(JSBlock(List(JSBlock(List(While(OperatorCall(Operator(!==),List(Lookup(JSIdentifier(second),JSIdentifier(j)), JSIdentifier(undefined))),JSBlock(List(JSBlock(List(Assign(Lookup(JSIdentifier(first),PostfixExpression(JSIdentifier(i),Operator(++))),Lookup(JSIdentifier(second),PostfixExpression(JSIdentifier(j),Operator(++))))))))))))))), Assign(Lookup(JSIdentifier(first),JSString(length)),JSIdentifier(i)), ReturnStatement(Some(JSIdentifier(first)))))), (JSString(grep),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(callback), JSIdentifier(inv)),List(Declare(JSIdentifier(ret)), Assign(JSIdentifier(ret),JSArrayLiteral(List())), Declare(JSIdentifier(retVal)), Assign(JSIdentifier(inv),OperatorCall(Operator(!),List(OperatorCall(Operator(!),List(JSIdentifier(inv)))))), JSBlock(List(Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(0)), Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(elems),JSString(length))), While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(JSBlock(List(Assign(JSIdentifier(retVal),OperatorCall(Operator(!),List(OperatorCall(Operator(!),List(Call(JSIdentifier(callback),List(Lookup(JSIdentifier(elems),JSIdentifier(i)), JSIdentifier(i)))))))), IfStatement(OperatorCall(Operator(!==),List(JSIdentifier(inv), JSIdentifier(retVal))),JSBlock(List(JSBlock(List(Call(Lookup(JSIdentifier(ret),JSString(push)),List(Lookup(JSIdentifier(elems),JSIdentifier(i)))))))),None))), PostfixExpression(JSIdentifier(i),Operator(++))))))))), ReturnStatement(Some(JSIdentifier(ret)))))), (JSString(map),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(callback), JSIdentifier(arg)),List(Declare(JSIdentifier(value)), Declare(JSIdentifier(key)), Declare(JSIdentifier(ret)), Assign(JSIdentifier(ret),JSArrayLiteral(List())), Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(0)), Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(elems),JSString(length))), Declare(JSIdentifier(isArray)), Assign(JSIdentifier(isArray),OperatorCall(Operator(||),List(OperatorCall(Operator(instanceof),List(JSIdentifier(elems), JSIdentifier(jQuery))), OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(OperatorCall(Operator(!==),List(JSIdentifier(length), JSIdentifier(undefined))), OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(JSIdentifier(length))), JSString(number))))), OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(OperatorCall(Operator(>),List(JSIdentifier(length), JSNumber(0))), Lookup(JSIdentifier(elems),JSNumber(0)))), Lookup(JSIdentifier(elems),OperatorCall(Operator(-),List(JSIdentifier(length), JSNumber(1)))))), OperatorCall(Operator(===),List(JSIdentifier(length), JSNumber(0))))), Call(Lookup(JSIdentifier(jQuery),JSString(isArray)),List(JSIdentifier(elems)))))))))), IfStatement(JSIdentifier(isArray),JSBlock(List(JSBlock(List(While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(JSBlock(List(Assign(JSIdentifier(value),Call(JSIdentifier(callback),List(Lookup(JSIdentifier(elems),JSIdentifier(i)), JSIdentifier(i), JSIdentifier(arg)))), IfStatement(OperatorCall(Operator(!=),List(JSIdentifier(value), JSIdentifier(null))),JSBlock(List(JSBlock(List(Assign(Lookup(JSIdentifier(ret),Lookup(JSIdentifier(ret),JSString(length))),JSIdentifier(value)))))),None))), PostfixExpression(JSIdentifier(i),Operator(++))))))))))),Some(JSBlock(List(JSBlock(List(ForIn(JSBlock(List(JSIdentifier(key))),JSIdentifier(elems),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(value),CallExpression(0,JSIdentifier(callback),List(ApplyArguments(List(CallExpression(0,JSIdentifier(elems),List(ApplyLookup(JSIdentifier(key)))), JSIdentifier(key), JSIdentifier(arg)))))), IfStatement(BinaryExpression(JSIdentifier(value),List(BinaryExtension(Operator(!=),JSIdentifier(null)))),JSBlock(List(AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(ret),List(ApplyLookup(CallExpression(0,JSIdentifier(ret),List(ApplyLookup(JSString(length))))))),JSIdentifier(value)))),None)))))))))), ReturnStatement(Some(Call(Lookup(Lookup(JSIdentifier(ret),JSString(concat)),JSString(apply)),List(JSArrayLiteral(List()), JSIdentifier(ret)))))))), (JSString(guid),JSNumber(1)), (JSString(proxy),JSFunction(None,List(JSIdentifier(fn), JSIdentifier(context)),List(IfStatement(OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(JSIdentifier(context))), JSString(string))),JSBlock(List(JSBlock(List(Declare(JSIdentifier(tmp)), Assign(JSIdentifier(tmp),Lookup(JSIdentifier(fn),JSIdentifier(context))), Assign(JSIdentifier(context),JSIdentifier(fn)), Assign(JSIdentifier(fn),JSIdentifier(tmp)))))),None), IfStatement(OperatorCall(Operator(!),List(Call(Lookup(JSIdentifier(jQuery),JSString(isFunction)),List(JSIdentifier(fn))))),JSBlock(List(JSBlock(List(ReturnStatement(Some(JSIdentifier(undefined))))))),None), Declare(JSIdentifier(args)), Assign(JSIdentifier(args),Call(Lookup(JSIdentifier(slice),JSString(call)),List(JSIdentifier(arguments), JSNumber(2)))), Declare(JSIdentifier(proxy)), Assign(JSIdentifier(proxy),JSFunction(None,List(),List(ReturnStatement(Some(Call(Lookup(JSIdentifier(fn),JSString(apply)),List(JSIdentifier(context), Call(Lookup(JSIdentifier(args),JSString(concat)),List(Call(Lookup(JSIdentifier(slice),JSString(call)),List(JSIdentifier(arguments)))))))))))), Assign(Lookup(JSIdentifier(proxy),JSString(guid)),Assign(Lookup(JSIdentifier(fn),JSString(guid)),OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(Lookup(JSIdentifier(fn),JSString(guid)), Lookup(JSIdentifier(proxy),JSString(guid)))), PostfixExpression(Lookup(JSIdentifier(jQuery),JSString(guid)),Operator(++)))))), ReturnStatement(Some(JSIdentifier(proxy)))))), (JSString(access),JSFunction(None,List(JSIdentifier(elems), JSIdentifier(key), JSIdentifier(value), JSIdentifier(exec), JSIdentifier(fn), JSIdentifier(pass)),List(Declare(JSIdentifier(length)), Assign(JSIdentifier(length),Lookup(JSIdentifier(elems),JSString(length))), IfStatement(OperatorCall(Operator(===),List(OperatorCall(Operator(typeof),List(JSIdentifier(key))), JSString(object))),JSBlock(List(JSBlock(List(ForIn(JSBlock(List(Declare(JSIdentifier(k)))),JSIdentifier(key),JSBlock(List(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(access)), ApplyArguments(List(JSIdentifier(elems), JSIdentifier(k), CallExpression(0,JSIdentifier(key),List(ApplyLookup(JSIdentifier(k)))), JSIdentifier(exec), JSIdentifier(fn), JSIdentifier(value)))))))), ReturnStatement(Some(JSIdentifier(elems))))))),None), IfStatement(OperatorCall(Operator(!==),List(JSIdentifier(value), JSIdentifier(undefined))),JSBlock(List(JSBlock(List(Assign(JSIdentifier(exec),OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(OperatorCall(Operator(!),List(JSIdentifier(pass))), JSIdentifier(exec))), Call(Lookup(JSIdentifier(jQuery),JSString(isFunction)),List(JSIdentifier(value)))))), JSBlock(List(Declare(JSIdentifier(i)), Assign(JSIdentifier(i),JSNumber(0)), While(OperatorCall(Operator(<),List(JSIdentifier(i), JSIdentifier(length))),JSBlock(List(JSBlock(List(JSBlock(List(Call(JSIdentifier(fn),List(Lookup(JSIdentifier(elems),JSIdentifier(i)), JSIdentifier(key), ConditionalExpression(JSIdentifier(exec),Call(Lookup(JSIdentifier(value),JSString(call)),List(Lookup(JSIdentifier(elems),JSIdentifier(i)), JSIdentifier(i), Call(JSIdentifier(fn),List(Lookup(JSIdentifier(elems),JSIdentifier(i)), JSIdentifier(key))))),JSIdentifier(value)), JSIdentifier(pass))))), PostfixExpression(JSIdentifier(i),Operator(++))))))))), ReturnStatement(Some(JSIdentifier(elems))))))),None), ReturnStatement(Some(ConditionalExpression(JSIdentifier(length),Call(JSIdentifier(fn),List(Lookup(JSIdentifier(elems),JSNumber(0)), JSIdentifier(key))),JSIdentifier(undefined))))))), (JSString(now),JSFunction(None,List(),List(ReturnStatement(Some(Call(Lookup(New(JSIdentifier(Date),List()),JSString(getTime)),List())))))), (JSString(uaMatch),JSFunction(None,List(JSIdentifier(ua)),List(Assign(JSIdentifier(ua),Call(Lookup(JSIdentifier(ua),JSString(toLowerCase)),List())), Declare(JSIdentifier(match)), Assign(JSIdentifier(match),OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(OperatorCall(Operator(||),List(Call(Lookup(JSIdentifier(rwebkit),JSString(exec)),List(JSIdentifier(ua))), Call(Lookup(JSIdentifier(ropera),JSString(exec)),List(JSIdentifier(ua))))), Call(Lookup(JSIdentifier(rmsie),JSString(exec)),List(JSIdentifier(ua))))), OperatorCall(Operator(&&),List(OperatorCall(Operator(<),List(Call(Lookup(JSIdentifier(ua),JSString(indexOf)),List(JSString(compatible))), JSNumber(0))), Call(Lookup(JSIdentifier(rmozilla),JSString(exec)),List(JSIdentifier(ua))))))), JSArrayLiteral(List())))), ReturnStatement(Some(JSLiteralObject(List((JSString(browser),OperatorCall(Operator(||),List(Lookup(JSIdentifier(match),JSNumber(1)), JSString()))), (JSString(version),OperatorCall(Operator(||),List(Lookup(JSIdentifier(match),JSNumber(2)), JSString(0))))))))))), (JSString(sub),JSFunction(None,List(),List()))))))))
[25.1] parsed: JSSource(List(CallExpression(0,JSIdentifier(print),List(ApplyArguments(List(JSString(hello))))), CallExpression(0,JSIdentifier(print),List(ApplyArguments(List(JSString(world))))), CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(extend)), ApplyArguments(List(JSIdentifier(true), JSIdentifier(jQuerySub), JSIdentifier(this))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(superclass)))),JSIdentifier(this)), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn)))),AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(prototype)))),CallExpression(0,JSIdentifier(this),List(ApplyArguments(List()))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(constructor)))),JSIdentifier(jQuerySub)), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(sub)))),CallExpression(0,JSIdentifier(this),List(ApplyLookup(JSString(sub))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(init)))),JSFunction(Some(JSIdentifier(init)),List(JSIdentifier(selector), JSIdentifier(context)),List(IfStatement(BinaryExpression(JSIdentifier(context),List(BinaryExtension(Operator(&&),BinaryExpression(JSIdentifier(context),List(BinaryExtension(Operator(instanceof),JSIdentifier(jQuery))))), BinaryExtension(Operator(&&),UnaryExpression(List(Operator(!)),BinaryExpression(JSIdentifier(context),List(BinaryExtension(Operator(instanceof),JSIdentifier(jQuerySub)))))))),JSBlock(List(AssignmentExpression(Operator(=),JSIdentifier(context),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyArguments(List(JSIdentifier(context)))))))),None), ReturnStatement(Some(CallExpression(0,JSIdentifier(jQuery),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(init)), ApplyLookup(JSString(call)), ApplyArguments(List(JSIdentifier(this), JSIdentifier(selector), JSIdentifier(context), JSIdentifier(rootjQuerySub)))))))))), JSFunction(Some(JSIdentifier(jQuerySub)),List(JSIdentifier(selector), JSIdentifier(context)),List(ReturnStatement(Some(CallExpression(1,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(init)), ApplyArguments(List(JSIdentifier(selector), JSIdentifier(context))))))))), AssignmentExpression(Operator(=),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn)), ApplyLookup(JSString(init)), ApplyLookup(JSString(prototype)))),CallExpression(0,JSIdentifier(jQuerySub),List(ApplyLookup(JSString(fn))))), VariableDeclarations(List(VariableDeclaration(JSIdentifier(rootjQuerySub),Some(CallExpression(0,JSIdentifier(jQuerySub),List(ApplyArguments(List(JSIdentifier(document)))))))))))
JSSource(List(Call(JSIdentifier(print),List(JSString(hello))), Call(JSIdentifier(print),List(JSString(world))), Call(Lookup(JSIdentifier(jQuery),JSString(extend)),List(JSIdentifier(true), JSIdentifier(jQuerySub), JSIdentifier(this))), Assign(Lookup(JSIdentifier(jQuerySub),JSString(superclass)),JSIdentifier(this)), Assign(Lookup(JSIdentifier(jQuerySub),JSString(fn)),Assign(Lookup(JSIdentifier(jQuerySub),JSString(prototype)),Call(JSIdentifier(this),List()))), Assign(Lookup(Lookup(JSIdentifier(jQuerySub),JSString(fn)),JSString(constructor)),JSIdentifier(jQuerySub)), Assign(Lookup(JSIdentifier(jQuerySub),JSString(sub)),Lookup(JSIdentifier(this),JSString(sub))), Assign(Lookup(Lookup(JSIdentifier(jQuerySub),JSString(fn)),JSString(init)),JSFunction(Some(JSIdentifier(init)),List(JSIdentifier(selector), JSIdentifier(context)),List(IfStatement(OperatorCall(Operator(&&),List(OperatorCall(Operator(&&),List(JSIdentifier(context), OperatorCall(Operator(instanceof),List(JSIdentifier(context), JSIdentifier(jQuery))))), OperatorCall(Operator(!),List(OperatorCall(Operator(instanceof),List(JSIdentifier(context), JSIdentifier(jQuerySub))))))),JSBlock(List(JSBlock(List(Assign(JSIdentifier(context),Call(JSIdentifier(jQuerySub),List(JSIdentifier(context)))))))),None), ReturnStatement(Some(Call(Lookup(Lookup(Lookup(JSIdentifier(jQuery),JSString(fn)),JSString(init)),JSString(call)),List(JSIdentifier(this), JSIdentifier(selector), JSIdentifier(context), JSIdentifier(rootjQuerySub)))))))), JSFunction(Some(JSIdentifier(jQuerySub)),List(JSIdentifier(selector), JSIdentifier(context)),List(ReturnStatement(Some(New(Lookup(Lookup(JSIdentifier(jQuerySub),JSString(fn)),JSString(init)),List(JSIdentifier(selector), JSIdentifier(context))))))), Assign(Lookup(Lookup(Lookup(JSIdentifier(jQuerySub),JSString(fn)),JSString(init)),JSString(prototype)),Lookup(JSIdentifier(jQuerySub),JSString(fn))), Declare(JSIdentifier(rootjQuerySub)), Assign(JSIdentifier(rootjQuerySub),Call(JSIdentifier(jQuerySub),List(JSIdentifier(document))))))

*/
}